import{K as q,d as P,e as R,b as H,f as U,g as G,h as W,j as z,k as F}from"./index-5d83be64.js";const I=p;(function(t,n){const e=p,x=t();for(;[];)try{if(parseInt(e(545))/1+-parseInt(e(502))/2*(-parseInt(e(510))/3)+-parseInt(e(517))/4*(parseInt(e(528))/5)+parseInt(e(476))/6+parseInt(e(541))/7*(-parseInt(e(485))/8)+parseInt(e(551))/9+-parseInt(e(500))/10===n)break;x.push(x.shift())}catch(o){x.push(x.shift())}})(D,255546);const L=new WeakMap,v=(t,n,e,x=0,o=![])=>{L[p(536)](t)!==e&&(e?Y(t,n,x,o):j(t,n))},Q=t=>{const n=p;return t===t[n(482)]()[n(530)]},Y=(t,n,e,x=![])=>{const o=p,s=n.parentNode,i=n.cloneNode(![]);i.classList.add(o(497)),i[o(542)]=-1,x&&(i[o(492)]=!![]),s[o(501)](i),L[o(527)](t,i);const r=t[o(507)],a=r[o(516)]==="rtl"?9999:-9999;t.style[o(481)]=o(475),n[o(483)][o(519)]=o(470)+a+"px,"+e+o(543)},j=(t,n)=>{const e=p,x=L[e(505)](t);x&&(L.delete(t),x[e(480)]()),t[e(483)][e(481)]="",n[e(483)][e(519)]=""},O=50,V=(t,n,e)=>{const x=p;if(!e||!n)return()=>{};const o=a=>{Q(n)&&v(t,n,a)},s=()=>v(t,n,![]),i=()=>o(!![]),r=()=>o(![]);return P(e,x(553),i),P(e,"ionScrollEnd",r),n.addEventListener(x(489),s),()=>{const a=x;R(e,a(553),i),R(e,a(490),r),n[a(522)]("blur",s)}},M="input, textarea, [no-blur], [contenteditable]",J=()=>{const t=p;let n=!![],e=![];const x=document,o=()=>{e=!![]},s=()=>{n=!![]},i=r=>{const a=p;if(e){e=![];return}const f=x[a(530)];if(!f||f[a(544)](M))return;const l=r[a(534)];l!==f&&(l[a(544)](M)||l[a(471)](M)||(n=![],setTimeout(()=>{!n&&f[a(489)]()},50)))};return P(x,t(553),o),x.addEventListener(t(515),s,!![]),x.addEventListener("touchend",i,![]),()=>{const r=t;R(x,"ionScrollStart",o,!![]),x[r(522)](r(515),s,!![]),x[r(522)](r(472),i,![])}},$=.3,X=(t,n,e)=>{const x=p;var o;const s=(o=t[x(471)](x(525)))!==null&&o!==void 0?o:t;return Z(s[x(488)](),n[x(488)](),e,t[x(507)][x(511)][x(469)])},Z=(t,n,e,x)=>{const o=p,s=t.top,i=t[o(473)],r=n.top,a=Math[o(499)](n.bottom,x-e),f=r+15,l=a-O,u=l-i,c=f-s,m=Math[o(539)](u<0?-u:c>0?-c:0),g=Math[o(499)](m,s-r),E=Math[o(521)](g),A=E/$,d=Math.min(400,Math.max(150,A));return{scrollAmount:g,scrollDuration:d,scrollPadding:e,inputSafeY:-(s-f)+4}},N="$ionPaddingTimer",k=(t,n,e)=>{const x=p,o=t[N];o&&clearTimeout(o),n>0?t[x(483)][x(531)]("--keyboard-offset",n+"px"):t[N]=setTimeout(()=>{const s=x;t[s(483)][s(531)](s(494),s(538)),e&&e()},120)},B=(t,n,e)=>{const x=p,o=()=>{n&&k(n,0,e)};t[x(537)](x(498),o,{once:!![]})};function p(t,n){const e=D();return p=function(x,o){return x=x-469,e[x]},p(t,n)}let y=0;const C=I(496),ee=(t,n,e,x,o,s,i,r=![])=>{const a=I,f=s&&(i===void 0||i[a(523)]===G[a(484)]),l=async()=>{const u=a;if(n[u(535)](C)){n[u(549)](C);return}te(t,n,e,x,o,f,r)};return t.addEventListener("focusin",l,!![]),()=>{const u=a;t[u(522)](u(515),l,!![])}},T=t=>{const n=I;document[n(530)]!==t&&(t[n(529)](C,n(518)),t[n(514)]())},te=async(t,n,e,x,o,s,i=![])=>{const r=I;if(!e&&!x)return;const a=X(t,e||x,o);if(e&&Math.abs(a.scrollAmount)<4){T(n),s&&e!==null&&(k(e,y),B(n,e,()=>y=0));return}if(v(t,n,!![],a[r(540)],i),T(n),W(()=>t.click()),s&&e&&(y=a[r(474)],k(e,y)),typeof window!==r(503)){let f;const l=async()=>{const c=r;f!==void 0&&clearTimeout(f),window[c(522)](c(552),u),window[c(522)]("ionKeyboardDidShow",l),e&&await F(e,0,a.scrollAmount,a[c(509)]),v(t,n,![],a[c(540)]),T(n),s&&B(n,e,()=>y=0)},u=()=>{const c=r;window.removeEventListener("ionKeyboardDidShow",u),window.addEventListener(c(552),l)};if(e){const c=await z(e),m=c.scrollHeight-c.clientHeight;if(a[r(477)]>m-c[r(547)]){n[r(548)]===r(532)?(a.scrollAmount+=O,window.addEventListener("ionKeyboardDidShow",u)):window.addEventListener(r(552),l),f=setTimeout(l,1e3);return}}l()}},ne=!![],ae=async(t,n)=>{const e=I,x=document,o=n===e(512),s=n===e(487),i=t[e(491)](e(526),290),r=t[e(504)]("scrollAssist",!![]),a=t[e(504)](e(520),o),f=t.getBoolean(e(493),o),l=t[e(504)](e(474),!![]),u=Array[e(479)](x[e(524)](e(513))),c=new WeakMap,m=new WeakMap,g=await q[e(508)](),E=async d=>{const _=e;await new Promise(w=>H(d,w));const S=d.shadowRoot||d,b=S.querySelector("input")||S[_(478)]("textarea"),h=U(d),K=h?null:d[_(471)](_(550));if(!b)return;if(h&&a&&!c[_(536)](d)){const w=V(d,b,h);c.set(d,w)}if(!(b.type===_(533)||b.type===_(495))&&(h||K)&&r&&!m.has(d)){const w=ee(d,b,h,K,i,l,g,s);m[_(527)](d,w)}},A=d=>{const _=e;if(a){const S=c[_(505)](d);S&&S(),c[_(506)](d)}if(r){const S=m[_(505)](d);S&&S(),m.delete(d)}};f&&ne&&J();for(const d of u)E(d);x[e(537)]("ionInputDidLoad",d=>{E(d[e(546)])}),x[e(537)](e(486),d=>{A(d[e(546)])})};function D(){const t=["scrollAmount","querySelector","from","remove","pointerEvents","getRootNode","style","None","120bnDTKU","ionInputDidUnload","android","getBoundingClientRect","blur","ionScrollEnd","getNumber","disabled","inputBlurring","--keyboard-offset","datetime-local","data-ionic-skip-scroll-assist","cloned-input","focusout","min","1598610DcSQRz","appendChild","2qSBfTk","undefined","getBoolean","get","delete","ownerDocument","getResizeMode","scrollDuration","756033imDtqQ","defaultView","ios","ion-input, ion-textarea","focus","focusin","dir","24HbVwsp","true","transform","hideCaretOnScroll","abs","removeEventListener","mode","querySelectorAll","ion-item,[ion-item]","keyboardHeight","set","195595lBKKxE","setAttribute","activeElement","setProperty","password","date","target","hasAttribute","has","addEventListener","0px","round","inputSafeY","146615bRmSOl","tabIndex","px,0) scale(0)","matches","151811oytrkG","detail","scrollTop","type","removeAttribute","ion-footer","3997665Wpqazy","ionKeyboardDidShow","ionScrollStart","innerHeight","translate3d(","closest","touchend","bottom","scrollPadding","none","697734nhQbmJ"];return D=function(){return t},D()}export{ae as startInputShims};
