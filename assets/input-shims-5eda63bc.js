import{K as H,d as T,e as C,b as F,f as U,g as W,h as Y,j as G,k as j}from"./index-3a6652d3.js";const p=_;function _(t,n){const e=M();return _=function(x,o){return x=x-406,e[x]},_(t,n)}(function(t,n){const e=_,x=t();for(;[];)try{if(-parseInt(e(426))/1+-parseInt(e(459))/2+-parseInt(e(428))/3+-parseInt(e(420))/4*(-parseInt(e(462))/5)+-parseInt(e(441))/6+parseInt(e(487))/7+-parseInt(e(472))/8*(-parseInt(e(445))/9)===n)break;x.push(x.shift())}catch(o){x.push(x.shift())}})(M,730479);const L=new WeakMap,v=(t,n,e,x=0,o=![])=>{L[_(453)](t)!==e&&(e?V(t,n,x,o):z(t,n))},q=t=>{const n=_;return t===t.getRootNode()[n(452)]},V=(t,n,e,x=![])=>{const o=_,r=n[o(477)],i=n[o(416)](![]);i.classList.add(o(431)),i[o(482)]=-1,x&&(i.disabled=!![]),r[o(460)](i),L[o(412)](t,i);const c=t[o(434)],a=c.dir===o(413)?9999:-9999;t.style[o(455)]="none",n[o(429)][o(432)]=o(486)+a+o(411)+e+o(466)},z=(t,n)=>{const e=_,x=L[e(438)](t);x&&(L[e(444)](t),x[e(424)]()),t[e(429)][e(455)]="",n[e(429)][e(432)]=""},B=50,X=(t,n,e)=>{const x=_;if(!e||!n)return()=>{};const o=a=>{q(n)&&v(t,n,a)},r=()=>v(t,n,![]),i=()=>o(!![]),c=()=>o(![]);return T(e,x(467),i),T(e,x(475),c),n[x(425)](x(478),r),()=>{const a=x;C(e,a(467),i),C(e,"ionScrollEnd",c),n[a(439)](a(478),r)}},P=p(423),Z=()=>{const t=p;let n=!![],e=![];const x=document,o=()=>{e=!![]},r=()=>{n=!![]},i=c=>{const a=_;if(e){e=![];return}const b=x[a(452)];if(!b||b[a(447)](P))return;const u=c.target;u!==b&&(u[a(447)](P)||u[a(427)](P)||(n=![],setTimeout(()=>{!n&&b[a(478)]()},50)))};return T(x,"ionScrollStart",o),x.addEventListener(t(454),r,!![]),x.addEventListener("touchend",i,![]),()=>{const c=t;C(x,c(467),o,!![]),x[c(439)]("focusin",r,!![]),x[c(439)](c(479),i,![])}},$=.3,J=(t,n,e)=>{const x=p;var o;const r=(o=t.closest(x(430)))!==null&&o!==void 0?o:t;return Q(r[x(409)](),n[x(409)](),e,t.ownerDocument[x(457)][x(415)])},Q=(t,n,e,x)=>{const o=p,r=t[o(448)],i=t.bottom,c=n[o(448)],a=Math[o(418)](n[o(407)],x-e),b=c+15,u=a-B,f=u-i,d=b-r,m=Math[o(451)](f<0?-f:d>0?-d:0),y=Math[o(418)](m,r-c),E=Math[o(468)](y),A=E/$,s=Math[o(418)](400,Math[o(473)](150,A));return{scrollAmount:y,scrollDuration:s,scrollPadding:e,inputSafeY:-(r-b)+4}},K=p(458),R=(t,n,e)=>{const x=p,o=t[K];o&&clearTimeout(o),n>0?t.style.setProperty(x(433),n+"px"):t[K]=setTimeout(()=>{const r=x;t[r(429)][r(469)](r(433),"0px"),e&&e()},120)},O=(t,n,e)=>{const x=()=>{n&&R(n,0,e)};t.addEventListener("focusout",x,{once:!![]})};let g=0;const N=p(464),ee=(t,n,e,x,o,r,i,c=![])=>{const a=p,b=r&&(i===void 0||i[a(442)]===W[a(474)]),u=async()=>{const f=a;if(n[f(446)](N)){n[f(470)](N);return}te(t,n,e,x,o,b,c)};return t[a(425)]("focusin",u,!![]),()=>{const f=a;t.removeEventListener(f(454),u,!![])}},D=t=>{const n=p;document[n(452)]!==t&&(t.setAttribute(N,n(422)),t[n(484)]())},te=async(t,n,e,x,o,r,i=![])=>{const c=p;if(!e&&!x)return;const a=J(t,e||x,o);if(e&&Math[c(468)](a[c(421)])<4){D(n),r&&e!==null&&(R(e,g),O(n,e,()=>g=0));return}if(v(t,n,!![],a.inputSafeY,i),D(n),Y(()=>t.click()),r&&e&&(g=a.scrollPadding,R(e,g)),typeof window!==c(483)){let b;const u=async()=>{const d=c;b!==void 0&&clearTimeout(b),window[d(439)](d(408),f),window[d(439)]("ionKeyboardDidShow",u),e&&await j(e,0,a[d(421)],a.scrollDuration),v(t,n,![],a[d(443)]),D(n),r&&O(n,e,()=>g=0)},f=()=>{const d=c;window[d(439)](d(408),f),window[d(425)](d(408),u)};if(e){const d=await G(e),m=d[c(440)]-d.clientHeight;if(a.scrollAmount>m-d[c(481)]){n[c(456)]==="password"?(a[c(421)]+=B,window[c(425)](c(408),f)):window[c(425)]("ionKeyboardDidShow",u),b=setTimeout(u,1e3);return}}u()}},ne=!![],ae=async(t,n)=>{const e=p,x=document,o=n===e(410),r=n===e(463),i=t[e(465)]("keyboardHeight",290),c=t[e(449)](e(461),!![]),a=t[e(449)](e(450),o),b=t[e(449)](e(406),o),u=t.getBoolean("scrollPadding",!![]),f=Array.from(x.querySelectorAll("ion-input, ion-textarea")),d=new WeakMap,m=new WeakMap,y=await H[e(419)](),E=async s=>{const l=e;await new Promise(I=>F(s,I));const S=s[l(414)]||s,w=S[l(437)](l(436))||S[l(437)](l(480)),h=U(s),k=h?null:s[l(427)](l(476));if(!w)return;if(h&&a&&!d[l(453)](s)){const I=X(s,w,h);d.set(s,I)}if(!(w[l(456)]===l(485)||w[l(456)]===l(471))&&(h||k)&&c&&!m[l(453)](s)){const I=ee(s,w,h,k,i,u,y,r);m.set(s,I)}},A=s=>{const l=e;if(a){const S=d[l(438)](s);S&&S(),d.delete(s)}if(c){const S=m[l(438)](s);S&&S(),m.delete(s)}};b&&ne&&Z();for(const s of f)E(s);x.addEventListener(e(435),s=>{E(s.detail)}),x[e(425)]("ionInputDidUnload",s=>{A(s[e(417)])})};function M(){const t=["1208pAFbPb","scrollAmount","true","input, textarea, [no-blur], [contenteditable]","remove","addEventListener","546051tMMobp","closest","84606SVuMMx","style","ion-item,[ion-item]","cloned-input","transform","--keyboard-offset","ownerDocument","ionInputDidLoad","input","querySelector","get","removeEventListener","scrollHeight","3923088ISsklv","mode","inputSafeY","delete","628461vLxwHR","hasAttribute","matches","top","getBoolean","hideCaretOnScroll","round","activeElement","has","focusin","pointerEvents","type","defaultView","$ionPaddingTimer","1896370uAENvT","appendChild","scrollAssist","17755ESrxyC","android","data-ionic-skip-scroll-assist","getNumber","px,0) scale(0)","ionScrollStart","abs","setProperty","removeAttribute","datetime-local","104mZiEnm","max","None","ionScrollEnd","ion-footer","parentNode","blur","touchend","textarea","scrollTop","tabIndex","undefined","focus","date","translate3d(","6486102mWLCbX","inputBlurring","bottom","ionKeyboardDidShow","getBoundingClientRect","ios","px,","set","rtl","shadowRoot","innerHeight","cloneNode","detail","min","getResizeMode"];return M=function(){return t},M()}export{ae as startInputShims};
