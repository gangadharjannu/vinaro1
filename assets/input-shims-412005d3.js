import{K as H,d as D,e as C,b as K,f as j,g as F,h as G,j as U,k as X}from"./index-c669b3b8.js";const _=p;function p(t,n){const e=L();return p=function(o,x){return o=o-259,e[o]},p(t,n)}function L(){const t=["none","scrollAssist","324404yRAYGY","focusin","2853XOXCYH","scrollDuration","from","0px","getNumber","getBoundingClientRect","closest","matches","input","px,","addEventListener","focus","password","139854NClDNN","pointerEvents","rtl","px,0) scale(0)","appendChild","scrollPadding","detail","scrollHeight","1gDujoX","datetime-local","querySelector","9123168vTORzj","ownerDocument","11670luFMVQ","round","85TimFxa","disabled","delete","activeElement","scrollTop","cloneNode","1753922TSjUGp","set","ionInputDidLoad","translate3d(","blur","tabIndex","touchend","getBoolean","max","dir","inputBlurring","min","target","get","android","removeAttribute","parentNode","getResizeMode","shadowRoot","2568807tKfIPd","input, textarea, [no-blur], [contenteditable]","has","top","setAttribute","textarea","ion-item,[ion-item]","classList","ionScrollStart","$ionPaddingTimer","abs","defaultView","remove","type","4182031adXZRC","setProperty","ionScrollEnd","bottom","transform","click","undefined","ion-input, ion-textarea","querySelectorAll","ion-footer","style","date","true","clientHeight","ionKeyboardDidShow","removeEventListener","--keyboard-offset","scrollAmount","inputSafeY","data-ionic-skip-scroll-assist","ios"];return L=function(){return t},L()}(function(t,n){const e=p,o=t();for(;[];)try{if(parseInt(e(318))/1*(parseInt(e(331))/2)+-parseInt(e(350))/3+-parseInt(e(295))/4*(parseInt(e(325))/5)+parseInt(e(310))/6+parseInt(e(272))/7+parseInt(e(321))/8+-parseInt(e(297))/9*(-parseInt(e(323))/10)===n)break;o.push(o.shift())}catch(x){o.push(o.shift())}})(L,773052);const E=new WeakMap,P=(t,n,e,o=0,x=![])=>{E[p(260)](t)!==e&&(e?q(t,n,o,x):z(t,n))},W=t=>{const n=p;return t===t.getRootNode()[n(328)]},q=(t,n,e,o=![])=>{const x=p,s=n[x(347)],l=n[x(330)](![]);l[x(265)].add("cloned-input"),l[x(336)]=-1,o&&(l[x(326)]=!![]),s[x(314)](l),E.set(t,l);const a=t[x(322)],r=a[x(340)]===x(312)?9999:-9999;t[x(282)][x(311)]=x(293),n[x(282)][x(276)]=x(334)+r+x(306)+e+x(313)},z=(t,n)=>{const e=p,o=E.get(t);o&&(E[e(327)](t),o[e(270)]()),t[e(282)][e(311)]="",n.style[e(276)]=""},Y=50,V=(t,n,e)=>{const o=p;if(!e||!n)return()=>{};const x=r=>{W(n)&&P(t,n,r)},s=()=>P(t,n,![]),l=()=>x(!![]),a=()=>x(![]);return D(e,"ionScrollStart",l),D(e,"ionScrollEnd",a),n.addEventListener(o(335),s),()=>{const r=o;C(e,r(266),l),C(e,r(274),a),n[r(287)](r(335),s)}},M=_(259),Q=()=>{const t=_;let n=!![],e=![];const o=document,x=()=>{e=!![]},s=()=>{n=!![]},l=a=>{const r=p;if(e){e=![];return}const f=o[r(328)];if(!f||f[r(304)](M))return;const u=a[r(343)];u!==f&&(u.matches(M)||u[r(303)](M)||(n=![],setTimeout(()=>{!n&&f.blur()},50)))};return D(o,"ionScrollStart",x),o[t(307)](t(296),s,!![]),o[t(307)](t(337),l,![]),()=>{const a=t;C(o,a(266),x,!![]),o[a(287)](a(296),s,!![]),o.removeEventListener(a(337),l,![])}},Z=.3,$=(t,n,e)=>{const o=_;var x;const s=(x=t[o(303)](o(264)))!==null&&x!==void 0?x:t;return J(s[o(302)](),n[o(302)](),e,t[o(322)][o(269)].innerHeight)},J=(t,n,e,o)=>{const x=_,s=t[x(261)],l=t[x(275)],a=n[x(261)],r=Math[x(342)](n[x(275)],o-e),f=a+15,u=r-Y,b=u-l,c=f-s,m=Math[x(324)](b<0?-b:c>0?-c:0),y=Math[x(342)](m,s-a),v=Math[x(268)](y),A=v/Z,i=Math.min(400,Math[x(339)](150,A));return{scrollAmount:y,scrollDuration:i,scrollPadding:e,inputSafeY:-(s-f)+4}},O=_(267),R=(t,n,e)=>{const o=_,x=t[O];x&&clearTimeout(x),n>0?t.style.setProperty(o(288),n+"px"):t[O]=setTimeout(()=>{const s=o;t[s(282)][s(273)](s(288),s(300)),e&&e()},120)},B=(t,n,e)=>{const o=()=>{n&&R(n,0,e)};t.addEventListener("focusout",o,{once:!![]})};let I=0;const N=_(291),e0=(t,n,e,o,x,s,l,a=![])=>{const r=_,f=s&&(l===void 0||l.mode===F.None),u=async()=>{const b=p;if(n.hasAttribute(N)){n[b(346)](N);return}t0(t,n,e,o,x,f,a)};return t.addEventListener(r(296),u,!![]),()=>{t[r(287)]("focusin",u,!![])}},T=t=>{const n=_;document[n(328)]!==t&&(t[n(262)](N,n(284)),t[n(308)]())},t0=async(t,n,e,o,x,s,l=![])=>{const a=_;if(!e&&!o)return;const r=$(t,e||o,x);if(e&&Math[a(268)](r[a(289)])<4){T(n),s&&e!==null&&(R(e,I),B(n,e,()=>I=0));return}if(P(t,n,!![],r.inputSafeY,l),T(n),G(()=>t[a(277)]()),s&&e&&(I=r.scrollPadding,R(e,I)),typeof window!==a(278)){let f;const u=async()=>{const c=a;f!==void 0&&clearTimeout(f),window[c(287)](c(286),b),window.removeEventListener(c(286),u),e&&await X(e,0,r[c(289)],r[c(298)]),P(t,n,![],r[c(290)]),T(n),s&&B(n,e,()=>I=0)},b=()=>{const c=a;window[c(287)](c(286),b),window[c(307)](c(286),u)};if(e){const c=await U(e),m=c[a(317)]-c[a(285)];if(r.scrollAmount>m-c[a(329)]){n[a(271)]===a(309)?(r[a(289)]+=Y,window[a(307)](a(286),b)):window[a(307)](a(286),u),f=setTimeout(u,1e3);return}}u()}},n0=!![],a0=async(t,n)=>{const e=_,o=document,x=n===e(292),s=n===e(345),l=t[e(301)]("keyboardHeight",290),a=t[e(338)](e(294),!![]),r=t.getBoolean("hideCaretOnScroll",x),f=t[e(338)](e(341),x),u=t.getBoolean(e(315),!![]),b=Array[e(299)](o[e(280)](e(279))),c=new WeakMap,m=new WeakMap,y=await H[e(348)](),v=async i=>{const d=e;await new Promise(w=>K(i,w));const S=i[d(349)]||i,g=S[d(320)](d(305))||S[d(320)](d(263)),h=j(i),k=h?null:i[d(303)](d(281));if(!g)return;if(h&&r&&!c[d(260)](i)){const w=V(i,g,h);c[d(332)](i,w)}if(!(g[d(271)]===d(283)||g[d(271)]===d(319))&&(h||k)&&a&&!m[d(260)](i)){const w=e0(i,g,h,k,l,u,y,s);m[d(332)](i,w)}},A=i=>{const d=e;if(r){const S=c[d(344)](i);S&&S(),c.delete(i)}if(a){const S=m.get(i);S&&S(),m.delete(i)}};f&&n0&&Q();for(const i of b)v(i);o.addEventListener(e(333),i=>{v(i[e(316)])}),o[e(307)]("ionInputDidUnload",i=>{A(i[e(316)])})};export{a0 as startInputShims};
